/*! project_management_app 2016-03-10 */
function createProject(){$(".container").empty(),$(".container").append('<div class="projectContainer"></div>'),$(".projectContainer").append("<ul><li>"+randomCompanyGenerator()+"</li><li>"+randomFrontEndPoints()+"</li><li>"+randomClientPoints()+"</li><li>"+randomServerPoints()+"</li></ul>"),$("ul").after('<button class="assignStaff">Assign Staff</button>')}function randomCompanyGenerator(){return randomCompany[randomNumber(0,randomCompany.length-1)]}function randomFrontEndPoints(){return randomNumber(10,maxFrontEndPoints)}function randomClientPoints(){return randomNumber(10,maxClientPoints)}function randomServerPoints(){return randomNumber(10,maxServerPoints)}function randomNumber(a,b){return Math.floor(Math.random()*(1+b-a)+a)}function assignStaff(){for(;3>positionFilled;)$.ajax({type:"GET",url:"/staff",success:function(a){staff.name=a.name,staff.skill=a.skill,staff.sprint=a.sprint}}),matchSkills(staff)}function matchSkills(a){"Clientside Logic"==a.skill&&0==clientLogicFilled&&($(".projectContainer").after('<div class="clientside-container"></div>'),$(".clientside-container").append("<h2>"+a.name+"</h2>"),$(".clientside-container").append("<p>Skill: "+a.skill+"</p>"),$(".clientside-container").append("<p>Average Sprints: "+a.sprint+"</p>"),clientLogicFilled=!0,console.log(a.skill,"filled!"),positionFilled++),"Front End"==a.skill&&0==frontEndFilled&&($(".projectContainer").after('<div class="frontend-container"></div>'),$(".frontend-container").append("<h2>"+a.name+"</h2>"),$(".frontend-container").append("<p>Skill: "+a.skill+"</p>"),$(".frontend-container").append("<p>Average Sprints: "+a.sprint+"</p>"),frontEndFilled=!0,console.log(a.skill,"filled!"),positionFilled++),"Serverside Logic"==a.skill&&0==serverLogicFilled&&($(".projectContainer").after('<div class="serverside-container"></div>'),$(".serverside-container").append("<h2>"+a.name+"</h2>"),$(".serverside-container").append("<p>Skill: "+a.skill+"</p>"),$(".serverside-container").append("<p>Average Sprints: "+a.sprint+"</p>"),serverLogicFilled=!0,console.log(a.skill,"filled!"),positionFilled++),a={}}var randomCompany=["Sub Prime Academy","The Turdery","Code Farty 2","Target On Your Back","Rocket Fitty Cent"],staff={},maxFrontEndPoints=60,maxClientPoints=60,maxServerPoints=60,clientLogicFilled=!1,frontEndFilled=!1,serverLogicFilled=!1,positionFilled=0;$(document).ready(function(){$("body").prepend('<button class="generate">Generate Project</button>'),$("body").on("click",".generate",createProject),$(".container").on("click",".assignStaff",assignStaff)});